(function(e){function t(t){for(var n,r,o=t[0],l=t[1],d=t[2],p=0,u=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&u.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(u.length)u.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(s.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},i={app:0},s=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var c=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("8a23"),i=a.n(n);i.a},"0918":function(e,t,a){},1:function(e,t){},"1b03":function(e,t,a){},"1bad":function(e,t){e.exports="data:image/png;base64,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Gb8BcHch3I7cmqc+xAnrypVZ4AR4P5/A+2Sf7JMvt/wPCD40KxurGIkAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDUtMjlUMTY6MDQ6MDcrMDA6MDASea7zAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTA1LTI5VDE2OjA0OjA3KzAwOjAwYyQWTwAAAEZ0RVh0c29mdHdhcmUASW1hZ2VNYWdpY2sgNi43LjgtOSAyMDE0LTA1LTEyIFExNiBodHRwOi8vd3d3LmltYWdlbWFnaWNrLm9yZ9yG7QAAAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6aGVpZ2h0ADE5Mg8AcoUAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMTky06whCAAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNTU5MTQ1ODQ3G+OMWQAAAA90RVh0VGh1bWI6OlNpemUAMEJClKI+7AAAAFZ0RVh0VGh1bWI6OlVSSQBmaWxlOi8vL21udGxvZy9mYXZpY29ucy8yMDE5LTA1LTI5L2Y1NTU1ZDQ5NGI3MDU3OTAwMjVjNzVkODlhMWM2ZGUzLmljby5wbmdgteS8AAAAAElFTkSuQmCC"},"1c4f":function(e,t,a){"use strict";var n=a("1b03"),i=a.n(n);i.a},2:function(e,t){},3:function(e,t){},3953:function(e,t,a){"use strict";var n=a("0918"),i=a.n(n);i.a},"3fd8":function(e,t,a){"use strict";var n=a("bf65"),i=a.n(n);i.a},4:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-app",[a("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list-item",{on:{click:function(t){e.step=1,e.menu="transfer",e.drawer=!1}}},[a("v-list-item-avatar",[a("v-icon",{attrs:{large:""}},[e._v("mdi-bank-transfer-in")])],1),a("v-list-item-content",[e._v("Transfer Asset")])],1)],1),a("AccountToolBar",{attrs:{isLoginNeeded:e.isLoginNeeded,isLoginNeededNetType:e.isLoginNeededNetType},on:{login_ethereum:e.login_ethereum,login_aergo:e.login_aergo,open_drawer:e.open_drawer,stepping:e.stepping}}),a("v-content",{staticClass:"pa-0",staticStyle:{"min-width":"400px","max-width":"1000px"},attrs:{"align-center":""}},[a("v-stepper",{attrs:{vertical:""},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("v-stepper-step",{attrs:{complete:e.step>1,step:"1"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[e._v(" Select a bridge "),a("br"),a("small",[e._v("Choose paired assets, transfer direction and steps")])]),1!=this.step&&null!==this.toBridge&&null!==this.fromBridge?a("v-col",[e._v(" "+e._s(e.fromBridge.net.label)+"("+e._s(e.fromBridge.asset.label)+") "),a("v-icon",{attrs:{small:""}},[e._v("mdi-arrow-right")]),e._v(" "+e._s(e.toBridge.net.label)+"("+e._s(e.toBridge.asset.label)+") ")],1):e._e()],1)],1),a("v-stepper-content",{attrs:{step:"1"}},[a("BridgeSelect",{on:{select_bridge:e.select_bridge,stepping:e.stepping}})],1),"transfer"===e.menu?a("div",[a("v-stepper-step",{attrs:{complete:e.step>2,step:"2"}},[e._v(" Send an asset "),a("small",[e._v("On source network, transfer assets to the Merkle Bridge")])]),a("v-stepper-content",{attrs:{step:"2"}},[a("Form",{attrs:{fromBridge:e.fromBridge,toBridge:e.toBridge,optype:e.fromOpType,etheraccount:e.etheraccount,aergoaccount:e.aergoaccount,verifiedReceiver:e.verifiedReceiver,verifiedAmountDecimalStr:e.verifiedAmountDecimalStr},on:{needLogin:e.needLogin,stepping:e.stepping}})],1),a("v-stepper-step",{attrs:{complete:e.step>3,step:"3"}},[e._v(" Check if verified "),a("small",[e._v("Check the source network's transmission state on the target network's Merkle Bridge")])]),a("v-stepper-content",{attrs:{step:"3"}},[a("Status",{attrs:{toBridge:e.toBridge,fromBridge:e.fromBridge,optype:e.fromOpType},on:{stepping:e.stepping,update_finalize_info:e.update_finalize_info}}),a("br")],1),a("v-stepper-step",{attrs:{complete:e.step>4,step:"4"}},[e._v(" Receive the asset "),a("small",[e._v("On target network, withdraw assets from the Merkle Bridge")])]),a("v-stepper-content",{attrs:{step:"4"}},[a("Form",{attrs:{fromBridge:e.fromBridge,toBridge:e.toBridge,optype:e.toOpType,etheraccount:e.etheraccount,aergoaccount:e.aergoaccount,verifiedReceiver:e.verifiedReceiver,verifiedAmountDecimalStr:e.verifiedAmountDecimalStr},on:{needLogin:e.needLogin,stepping:e.stepping}})],1)],1):"navigate"===e.menu?a("div",[a("v-stepper-step",{attrs:{complete:e.step>2,step:"2"}},[e._v("Navigate asset transfers")]),a("v-stepper-content",{attrs:{step:"2"}},[a("History")],1)],1):e._e(),e.step>4?a("div",[e._v(" The asset has been transfered successfully. "),a("br"),e._v("To send another asset, click the button below. "),a("br"),a("br"),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.step=1}}},[e._v("Select Bridge")])],1):e._e()],1)],1)],1)],1)},s=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{app:"",color:"#ff0097",dark:""}},[n("v-app-bar-nav-icon",{on:{click:function(t){return t.stopPropagation(),e.$emit("open_drawer")}}}),n("v-toolbar-title",[e._v("Aergo to Ethereum Merkle Bridge")]),n("v-spacer"),n("v-menu",{attrs:{bottom:"",right:"",transition:"scale-transition",origin:"top left"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return["aergo"===e.isLoginNeededNetType&&!0===e.isLoginNeeded?n("span",[n("v-btn",e._g({attrs:{fab:"",color:"white"}},i),[n("v-img",{staticClass:"blinking",attrs:{src:a("1bad"),contain:"",width:"30",height:"30"}})],1)],1):n("span",[n("v-btn",e._g({attrs:{icon:""}},i),[n("v-img",{attrs:{src:a("1bad"),contain:"",width:"30",height:"30"}})],1)],1)]}}])},[n("v-card",[null===this.aergoaccount?n("v-list",[n("v-list-item",[n("v-list-item-avatar",[n("v-img",{attrs:{src:a("1bad")}})],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Aergo Connect")]),n("v-btn",{attrs:{color:"primary"},on:{click:e.getAergoActiveAccount}},[e._v("Login")])],1)],1)],1):n("v-list",[n("v-list-item",[n("v-list-item-avatar",[n("v-img",{attrs:{src:a("1bad")}})],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Logged In")]),n("v-list-item-subtitle",[e._v(e._s(this.aergoaccount.address))])],1),n("v-btn",{attrs:{text:"",icon:""},on:{click:e.getAergoActiveAccount}},[n("v-icon",[e._v("mdi-refresh")])],1)],1)],1)],1)],1),n("v-menu",{attrs:{bottom:"",right:"",transition:"scale-transition",origin:"top left"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return["ethereum"===e.isLoginNeededNetType&&!0===e.isLoginNeeded?n("span",[n("v-btn",e._g({attrs:{fab:"",color:"white"}},i),[n("v-img",{staticClass:"blinking",attrs:{src:a("ba67"),contain:"",width:"30",height:"30"}})],1)],1):n("span",[n("v-btn",e._g({attrs:{icon:""}},i),[n("v-img",{attrs:{src:a("ba67"),contain:"",width:"30",height:"30"}})],1)],1)]}}])},[n("v-card",[n("v-list",[n("v-list-item",[n("v-list-item-avatar",[n("v-img",{attrs:{src:a("ba67")}})],1),n("v-list-item-content",[null===this.etheraccount?n("span",[n("v-list-item-title",[e._v("Logged Out")]),n("v-list-item-subtitle",[e._v("Login to Metamask")])],1):!1===this.etheraccount.isUnlocked?n("span",[n("v-list-item-title",[e._v("Locked")]),n("v-list-item-subtitle",[e._v("Unlock Metamask")])],1):null===this.etheraccount.selectedAddress?n("span",[n("v-list-item-title",[e._v("Metamask")]),n("v-btn",{attrs:{color:"primary"},on:{click:e.connectMetamask}},[e._v("Connect DApp")])],1):n("span",[n("v-list-item-title",[e._v("Logged In")]),n("v-list-item-subtitle",[e._v(e._s(this.etheraccount.selectedAddress))])],1)])],1)],1)],1)],1)],1)],1)},o=[],l=a("e573"),d=a.n(l);const c={transactionConfirmationBlocks:1};function p(){return window.ethereum?new d.a(window.ethereum,null,c):window.web3?new d.a(window.web3.currentProvider,null,c):(console.error("Non-Ethereum browser detected. You should consider trying MetaMask!"),new d.a(new d.a.providers.HttpProvider("http://localhost:8545"),null,c))}function u(e){m.eth.defaultAccount=e}const m=p();var v,g,b={},h=b,y=a("2877"),f=Object(y["a"])(h,v,g,!1,null,null,null),A=(f.exports,{name:"AccountToolBar",props:["isLoginNeeded","isLoginNeededNetType"],components:{},data:()=>({etheraccount:null,aergoaccount:null,aergoapi:null,drawer:null}),created(){console.log(m.currentProvider),m.currentProvider.connection.publicConfigStore.on("update",e=>{this.etheraccount=e,u(e.selectedAddress),this.$emit("login_ethereum",e)}),window.addEventListener("AERGO_ACTIVE_ACCOUNT",e=>{e.detail.error?console.log(e.detail.error):(this.aergoaccount=e.detail.account,this.$emit("login_aergo",e.detail.account))})},methods:{getAergoActiveAccount(){window.postMessage({type:"AERGO_REQUEST",action:"ACTIVE_ACCOUNT"})},connectMetamask(){window.ethereum.enable()},aergoWalletColor(){return"purple"}}}),_=A,w=(a("1c4f"),a("6544")),k=a.n(w),x=a("40dc"),T=a("5bc1"),B=a("8336"),C=a("b0af"),D=a("132d"),V=a("adda"),S=a("8860"),O=a("da13"),I=a("8270"),E=a("5d23"),L=a("e449"),M=a("2fa4"),F=a("2a7f"),R=Object(y["a"])(_,r,o,!1,null,"3eb05e42",null),P=R.exports;k()(R,{VAppBar:x["a"],VAppBarNavIcon:T["a"],VBtn:B["a"],VCard:C["a"],VIcon:D["a"],VImg:V["a"],VList:S["a"],VListItem:O["a"],VListItemAvatar:I["a"],VListItemContent:E["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VMenu:L["a"],VSpacer:M["a"],VToolbarTitle:F["a"]});var N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{align:"center"}},[a("v-expansion-panels",{attrs:{focusable:"",accordion:""}},[e._l(e.bridges,(function(t,n){return a("v-expansion-panel",{key:n},[a("v-expansion-panel-header",[e._v(e._s(e.genLabel(t.bridge1,t.bridge2)))]),a("v-expansion-panel-content",[a("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{sm12:"",md6:""}},[a("BridgeCard",{attrs:{fromBridge:t.bridge1,toBridge:t.bridge2},on:{select_bridge:e.select_bridge}})],1),a("v-col",{attrs:{xs12:"",sm6:""}},[a("BridgeCard",{attrs:{fromBridge:t.bridge2,toBridge:t.bridge1},on:{select_bridge:e.select_bridge}})],1)],1)],1)],1)],1)})),a("v-expansion-panel",[a("v-expansion-panel-header",{staticClass:"font-weight-thin blue-grey--text"},[e._v("( Add/Remove Custom Bridge )")]),a("v-expansion-panel-content",[e._v(" You may "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.addDialog.open=!0}}},[e._v("Add")]),e._v("/ "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.removeDialog.open=!0}}},[e._v("Remove")]),e._v("/ "),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.resetBridge}},[e._v("Reset")]),e._v("the Merkle Bridge-Asset Pair. ")],1)],1)],2),a("v-dialog",{attrs:{persistent:"","max-width":"450"},model:{value:e.addDialog.open,callback:function(t){e.$set(e.addDialog,"open",t)},expression:"addDialog.open"}},[a("v-card",[a("v-card-title",[e._v("Add the Bridge-Asset Pair")]),a("v-card-text",{staticClass:"text-left"},[e._v("Select a json file containing pair infomation. (Only .json extension is supported) Add only verified pairs!")]),a("v-card-text",[a("v-file-input",{ref:"fileInput",attrs:{rules:[e.validateBridgeFile],label:"File input",accept:".json"},on:{change:e.onAddFileChange},model:{value:e.addDialog.filePath,callback:function(t){e.$set(e.addDialog,"filePath",t)},expression:"addDialog.filePath"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:!e.addDialog.isOk},on:{click:e.addBridge}},[e._v("Add")]),a("v-btn",{attrs:{text:""},on:{click:function(t){e.addDialog.open=!1}}},[e._v("Cancel")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"550"},model:{value:e.removeDialog.open,callback:function(t){e.$set(e.removeDialog,"open",t)},expression:"removeDialog.open"}},[a("v-card",[a("v-card-title",[e._v("Remove the Bridge-Asset Pair")]),a("v-card-text",{staticClass:"text-left"},[e._v("Select the pair to remove")]),a("v-card-text",e._l(e.bridges,(function(t,n){return a("span",{key:n},[a("v-checkbox",{staticClass:"ma-0 pa-0",attrs:{label:e.genLabel(t.bridge1,t.bridge2),value:n},model:{value:e.removeDialog.selected,callback:function(t){e.$set(e.removeDialog,"selected",t)},expression:"removeDialog.selected"}})],1)})),0),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:!e.removeDialog.selected.length},on:{click:e.removeBridge}},[e._v("Remove")]),a("v-btn",{attrs:{text:""},on:{click:function(t){e.removeDialog.open=!1}}},[e._v("Cancel")])],1)],1)],1)],1)},H=[];const W={version:"0.2",language:"lua",functions:[{name:"freeze",payable:!0,arguments:[{name:"receiver"},{name:"amount"}]},{name:"constructor",arguments:[{name:"aergoErc20"},{name:"validators"},{name:"tAnchor"},{name:"tFinal"}]},{name:"default",payable:!0,arguments:[]},{name:"validatorsUpdate",arguments:[{name:"validators"},{name:"signers"},{name:"signatures"}]},{name:"unfreeze",arguments:[{name:"receiver"},{name:"balance"},{name:"merkleProof"}]},{name:"unlock",arguments:[{name:"receiver"},{name:"balance"},{name:"tokenAddress"},{name:"merkleProof"}]},{name:"burn",arguments:[{name:"receiver"},{name:"amount"},{name:"mintAddress"}]},{name:"tokensReceived",arguments:[{name:"operator"},{name:"from"},{name:"value"},{name:"receiver"}]},{name:"mint",arguments:[{name:"receiver"},{name:"balance"},{name:"tokenOrigin"},{name:"merkleProof"}]},{name:"unfreezeFeeUpdate",arguments:[{name:"fee"},{name:"signers"},{name:"signatures"}]},{name:"newAnchor",arguments:[{name:"root"},{name:"height"},{name:"signers"},{name:"signatures"}]},{name:"tAnchorUpdate",arguments:[{name:"tAnchor"},{name:"signers"},{name:"signatures"}]},{name:"tFinalUpdate",arguments:[{name:"tFinal"},{name:"signers"},{name:"signatures"}]}],state_variables:[{name:"_unfreezes",type:"map"},{name:"_mintedTokens",type:"map"},{name:"_validators",type:"map"},{name:"_locks",type:"map"},{name:"_mints",type:"map"},{name:"_bridgeTokens",type:"map"},{name:"_aergoErc20Bytes",type:"value"},{name:"_tAnchor",type:"value"},{name:"_unfreezeFee",type:"value"},{name:"_burns",type:"map"},{name:"_validatorsCount",type:"value"},{name:"_contractId",type:"value"},{name:"_anchorRoot",type:"value"},{name:"_anchorHeight",type:"value"},{name:"_tFinal",type:"value"},{name:"_nonce",type:"value"},{name:"_unlocks",type:"map"}]};var U,j,z={},q=z,Z=Object(y["a"])(q,U,j,!1,null,null,null);Z.exports;const X=[{inputs:[{internalType:"uint256",name:"tAnchor",type:"uint256"},{internalType:"uint256",name:"tFinal",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"bytes32",name:"root",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"height",type:"uint256"}],name:"anchorEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"contract MintedERC20",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"string",name:"receiver",type:"string"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"burnEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"contract IERC20",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"string",name:"receiver",type:"string"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"lockEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"contract MintedERC20",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"mintEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"string",name:"origin",type:"string"},{indexed:!0,internalType:"contract MintedERC20",name:"addr",type:"address"}],name:"newMintedERC20",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"newOracle",type:"address"}],name:"newOracleEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"tAnchor",type:"uint256"}],name:"newTAnchorEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"tFinal",type:"uint256"}],name:"newTFinalEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"contract IERC20",name:"tokenAddress",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"unlockEvent",type:"event"},{constant:!0,inputs:[],name:"_anchorHeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_anchorRoot",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"string",name:"",type:"string"}],name:"_bridgeTokens",outputs:[{internalType:"contract MintedERC20",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes",name:"",type:"bytes"}],name:"_burns",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes",name:"",type:"bytes"}],name:"_locks",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"_mintedTokens",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes",name:"",type:"bytes"}],name:"_mints",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_oracle",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_tAnchor",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_tFinal",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes",name:"",type:"bytes"}],name:"_unlocks",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"bits",type:"bytes32"},{internalType:"uint8",name:"i",type:"uint8"}],name:"bitIsSet",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{internalType:"string",name:"receiver",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"contract MintedERC20",name:"mintAddress",type:"address"}],name:"burn",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"receiver",type:"string"}],name:"lock",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"string",name:"tokenOrigin",type:"string"},{internalType:"bytes32[]",name:"mp",type:"bytes32[]"},{internalType:"bytes32",name:"bitmap",type:"bytes32"},{internalType:"uint8",name:"leafHeight",type:"uint8"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"root",type:"bytes32"},{internalType:"uint256",name:"height",type:"uint256"}],name:"newAnchor",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"newOracle",type:"address"}],name:"oracleUpdate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"tAnchor",type:"uint256"}],name:"tAnchorUpdate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"tFinal",type:"uint256"}],name:"tFinalUpdate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"uint256",name:"num",type:"uint256"}],name:"uintToString",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"contract IERC20",name:"token",type:"address"},{internalType:"bytes32[]",name:"mp",type:"bytes32[]"},{internalType:"bytes32",name:"bitmap",type:"bytes32"},{internalType:"uint8",name:"leafHeight",type:"uint8"}],name:"unlock",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"string",name:"mapName",type:"string"},{internalType:"bytes",name:"accountRef",type:"bytes"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"bytes32[]",name:"mp",type:"bytes32[]"},{internalType:"bytes32",name:"bitmap",type:"bytes32"},{internalType:"uint8",name:"leafHeight",type:"uint8"}],name:"verifyDepositProof",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"}];var G,J,Y={},Q=Y,K=Object(y["a"])(Q,G,J,!1,null,null,null);K.exports;const $=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_subtractedValue",type:"uint256"}],name:"decreaseApproval",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_addedValue",type:"uint256"}],name:"increaseApproval",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"previousOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];var ee,te,ae={},ne=ae,ie=Object(y["a"])(ne,ee,te,!1,null,null,null),se=(ie.exports,a("a41b"));const re={native:"native",erc20:"erc20",arc1:"arc1"},oe=[{bridge1:{net:{label:"Aergo Testnet",type:"aergo",chainId:"testnet.aergo.io",endpoint:"https://testnet-api-http.aergo.io",scan:"https://testnet.aergoscan.io/go?q="},contract:{id:"Amh76FdT5Q8rmeJxVb31GQubZ4nWQK4HzgbvE1u9jehQTXPg8Ksv",abi:W},asset:{label:"Native Aergo",type:re.native,isPegged:!1,id:"",decimals:18}},bridge2:{net:{label:"Ethereum Testnet",type:"ethereum",networkVersion:"3",endpoint:"https://ethtestnet.aergo.io/",scan:"https://ropsten.etherscan.io/search?q="},contract:{id:"0xd6d81a49527ec42Ed5E5a60B86F316E683991116",abi:X},asset:{label:"erc20 aergo",type:re.erc20,isPegged:!1,id:"0x9b132615129867f747C26e58FEcdea8eF2b55Bb2",abi:$,decimals:18}}}],le={id:"/Net",type:"object",properties:{label:{type:"string"},type:{type:"string"},endpoint:{type:"string"},scan:{type:"string"},networkVersion:{type:"string"},chainId:{type:"string"}},required:["label","type","endpoint","scan"]},de={id:"/Contract",type:"object",properties:{id:{type:"string"},abi:{type:["array","object"],items:{type:"object"}}},required:["id","abi"]},ce={id:"/Asset",type:"object",properties:{label:{type:"string"},type:{type:"string"},isPegged:{type:"boolean"},id:{type:"string"},abi:{type:["array","object"],items:{type:"object"}},decimals:{type:"integer",minimum:1}},required:["label","type","isPegged","id","decimals"]},pe={id:"/Bridge",type:"object",properties:{net:{$ref:"/Net"},contract:{$ref:"/Contract"},asset:{$ref:"/Asset"}},required:["net","contract","asset"]},ue={id:"/Main",type:"object",properties:{bridge1:{$ref:"/Bridge"},bridge2:{$ref:"/Bridge"}},required:["bridge1","bridge2"]};var me=new se["Validator"];function ve(e){let t=me.validate(e,ue);return t.valid,t.errors.map((function(e){return e.stack})).join(", ")}me.addSchema(le,"/Net"),me.addSchema(de,"/Contract"),me.addSchema(ce,"/Asset"),me.addSchema(pe,"/Bridge");var ge,be,he={},ye=he,fe=Object(y["a"])(ye,ge,be,!1,null,null,null),Ae=(fe.exports,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto",attrs:{"min-width":"350px"}},[a("v-card-text",{staticClass:"pa-1"},[a("v-container",{attrs:{fluid:"","pa-0":""}},[a("v-row",[a("v-col",{staticClass:"py-0"},[a("v-btn",{attrs:{text:""},on:{click:function(t){e.showMeta=!e.showMeta}}},[e._v(" "+e._s(e.fromBridge.net.label)+" "),a("v-icon",{attrs:{small:""}},[e._v("mdi-arrow-right")]),e._v(" "+e._s(e.toBridge.net.label)+" "),a("v-icon",[e._v("mdi-menu-down")])],1)],1)],1),a("v-row",[a("v-col",{staticClass:"py-0"},[a("p",{directives:[{name:"show",rawName:"v-show",value:!0===e.showMeta,expression:"showMeta === true"}],staticClass:"px-5",attrs:{align:"left"}},[e._v(" From Asset: "),e.fromBridge.asset.id?a("a",{attrs:{href:e.fromBridge.net.scan+e.fromBridge.asset.id,target:"_blank"}},[e._v(e._s(e.fromBridge.asset.id))]):a("span",[e._v(e._s(e.fromBridge.asset.label))]),a("br"),e._v("From Bridge: "),a("a",{attrs:{href:e.fromBridge.net.scan+e.fromBridge.contract.id,target:"_blank"}},[e._v(e._s(e.fromBridge.contract.id))]),a("br"),e._v("To Asset: "),e.toBridge.asset.id?a("a",{attrs:{href:e.toBridge.net.scan+e.toBridge.asset.id,target:"_blank"}},[e._v(e._s(e.toBridge.asset.id))]):a("span",[e._v(e._s(e.toBridge.asset.label))]),a("br"),e._v("To Bridge: "),a("a",{attrs:{href:e.toBridge.net.scan+e.toBridge.contract.id,target:"_blank"}},[e._v(e._s(e.toBridge.contract.id))])])])],1),a("v-row",[a("v-col",{staticClass:"px-0"},[a("v-icon",[e._v("mdi-sack")]),a("v-icon",{attrs:{large:""}},[e._v("mdi-bank-transfer-in")]),a("br"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.emitSelection("in")}}},[a("small",[e._v(" 1. "+e._s(e.getOpType("in",e.fromBridge))+" "),a("br"),e._v(" "+e._s(e.fromBridge.asset.label)+" ")])])],1),a("v-col",{staticClass:"px-0"},[a("v-icon",{attrs:{large:""}},[e._v("mdi-weather-cloudy-arrow-right")]),a("br"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.emitSelection("out")}}},[a("small",[e._v(" 2. Wait "),a("br"),e._v("Verification ")])])],1),a("v-col",{staticClass:"px-0"},[a("v-icon",{attrs:{large:""}},[e._v("mdi-bank-transfer-out")]),a("v-icon",[e._v("mdi-sack")]),a("br"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.emitSelection("out")}}},[a("small",[e._v(" 3. "+e._s(e.getOpType("out",e.toBridge))+" "),a("br"),e._v(" "+e._s(e.toBridge.asset.label)+" ")])])],1)],1)],1)],1)],1)}),_e=[],we={name:"BridgeCard",props:["fromBridge","toBridge"],components:{},data:()=>({showMeta:!1}),methods:{getOpType(e,t){if("in"===e){if(t.asset.type===re.erc20||t.asset.type===re.arc1)return!0===t.asset.isPegged?"burn":"lock";if(t.asset.type===re.native)return"freeze";console.error("unsuppored asset type",t.asset.type)}else if("out"===e){if(t.asset.type===re.erc20||t.asset.type===re.arc1)return!0===t.asset.isPegged?"mint":"unlock";if(t.asset.type===re.native)return"unfreeze";console.error("unsuppored asset type",t.asset.type)}else console.error("unsuppored inOut value",e)},emitSelection(e){this.$emit("select_bridge",this.fromBridge,this.getOpType("in",this.fromBridge),this.toBridge,this.getOpType("out",this.toBridge),e)}}},ke=we,xe=(a("3fd8"),a("99d9")),Te=a("62ad"),Be=a("a523"),Ce=a("0fd9"),De=Object(y["a"])(ke,Ae,_e,!1,null,null,null),Ve=De.exports;k()(De,{VBtn:B["a"],VCard:C["a"],VCardText:xe["b"],VCol:Te["a"],VContainer:Be["a"],VIcon:D["a"],VRow:Ce["a"]});var Se={name:"BridgeSelect",components:{BridgeCard:Ve},data:()=>({bridges:null,addDialog:{open:!1,filePath:null,fileContent:null,isOk:!1},removeDialog:{open:!1,selected:[]}}),created(){null===localStorage.getItem("_bridges")&&localStorage.setItem("_bridges",JSON.stringify(oe)),this.bridges=JSON.parse(localStorage.getItem("_bridges"))},methods:{select_bridge(e,t,a,n,i){this.$emit("select_bridge",e,t,a,n),"in"===i?this.$emit("stepping","next"):this.$emit("stepping",3)},addBridge(){this.bridges.push(this.addDialog.fileContent),localStorage.setItem("_bridges",JSON.stringify(this.bridges)),this.addDialog.open=!1},onAddFileChange(){let e=new FileReader;this.addDialog.filePath&&(e.onload=()=>{this.addDialog.fileContent=JSON.parse(e.result),this.$refs.fileInput.validate()},e.readAsText(this.addDialog.filePath))},validateBridgeFile(){if(this.addDialog.fileContent){let e,t=ve(this.addDialog.fileContent);return this.addDialog.isOk=e,!!e||t}return this.addDialog.isOk=!1,!0},removeBridge(){let e=this.removeDialog.selected.sort();for(var t=e.length-1;t>=0;t--)this.bridges.splice(e[t],1);localStorage.setItem("_bridges",JSON.stringify(this.bridges)),this.removeDialog.selected=[]},resetBridge(){localStorage.setItem("_bridges",JSON.stringify(oe)),this.bridges=JSON.parse(localStorage.getItem("_bridges"))},genLabel(e,t){return e.net.label+"("+e.asset.label+") - "+t.net.label+"("+t.asset.label+")"}}},Oe=Se,Ie=a("ac7c"),Ee=a("169a"),Le=a("cd55"),Me=a("49e2"),Fe=a("c865"),Re=a("0393"),Pe=a("23a7"),Ne=Object(y["a"])(Oe,N,H,!1,null,null,null),He=Ne.exports;k()(Ne,{VBtn:B["a"],VCard:C["a"],VCardActions:xe["a"],VCardText:xe["b"],VCardTitle:xe["c"],VCheckbox:Ie["a"],VCol:Te["a"],VContainer:Be["a"],VDialog:Ee["a"],VExpansionPanel:Le["a"],VExpansionPanelContent:Me["a"],VExpansionPanelHeader:Fe["a"],VExpansionPanels:Re["a"],VFileInput:Pe["a"],VRow:Ce["a"],VSpacer:M["a"]});var We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.bridge?n("div",[n("v-list",{attrs:{dense:""}},[n("v-list-item",{staticClass:"pa-0"},[n("v-list-item-icon",{staticClass:"mr-2"},[n("v-icon",[e._v("mdi-sack")])],1),n("v-list-item-content",{staticClass:"text-left"},[n("v-list-item-title",[e._v("Asset Name")]),e._v(" "+e._s(e.bridge.asset.label)+" ")],1),n("v-list-item-content",{directives:[{name:"show",rawName:"v-show",value:e.bridge.asset.id,expression:"bridge.asset.id"}],staticClass:"text-left"},[n("v-list-item-title",[e._v("Asset Contract ID")]),e._v(" "+e._s(e.bridge.asset.id)+" ")],1),e.bridge.asset.id?n("v-btn",{attrs:{icon:"",href:e.bridge.net.scan+e.bridge.asset.id,target:"_blank"}},[n("v-icon",[e._v("mdi-launch")])],1):e._e()],1),n("v-list-item",{staticClass:"pa-0"},[n("v-list-item-icon",{staticClass:"mr-2"},[n("v-icon",[e._v("mdi-bank")])],1),n("v-list-item-content",{staticClass:"text-left"},[n("v-list-item-title",[e._v("Bridge Contract ID")]),e._v(" "+e._s(e.bridge.contract.id)+" ")],1),n("v-btn",{attrs:{icon:"",href:e.bridge.net.scan+e.bridge.contract.id,target:"_blank"}},[n("v-icon",[e._v("mdi-launch")])],1)],1)],1),n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{class:e.wallet.isLogin?"":"errored--disable-textfield",attrs:{label:"in"===e.inout?"From Address":"Operator Address",rules:[e.validateAccount],disabled:"",required:""},scopedSlots:e._u([{key:"prepend",fn:function(){return["aergo"===e.wallet.type?n("v-img",{attrs:{src:a("1bad"),width:"24"}}):"ethereum"===e.wallet.type?n("v-img",{attrs:{src:a("ba67"),width:"24"}}):e._e()]},proxy:!0}],null,!1,3010259815),model:{value:e.wallet.address,callback:function(t){e.$set(e.wallet,"address",t)},expression:"wallet.address"}}),"in"===e.inout?n("div",[n("v-text-field",{attrs:{rules:[e.validateReceiver],label:"To Address ("+e.toBridge.net.label+")","prepend-inner-icon":"mdi-account",required:"",clearable:""},model:{value:e.receiver,callback:function(t){e.receiver=t},expression:"receiver"}}),n("v-text-field",{attrs:{rules:[e.validateAmount],label:"Amount ("+e.bridge.asset.label+")",required:"",clearable:"","prepend-inner-icon":"mdi-cash-multiple"},model:{value:e.amountDecimals,callback:function(t){e.amountDecimals=t},expression:"amountDecimals"}},[e.needApproveToken?n("span",{attrs:{slot:"append"},slot:"append"},[e._v(" / "+e._s(e.approvedAmountDecimalsStr)+" Approved "),n("v-icon",{staticClass:"ma-0 pa-0",on:{click:e.updateApprovedAmount}},[e._v("mdi-refresh")])],1):e._e()])],1):"out"===e.inout?n("div",[n("v-text-field",{attrs:{rules:[e.validateReceiver],label:"To Address ("+e.toBridge.net.label+")","prepend-inner-icon":"mdi-account",required:"",disabled:""},model:{value:e.verifiedReceiver,callback:function(t){e.verifiedReceiver=t},expression:"verifiedReceiver"}}),n("v-text-field",{class:e.verifiedAmountWithFeeDecimalsStr<=0?"errored--disable-textfield":"",attrs:{rules:[e.validateAmount],label:"Amount ("+e.bridge.asset.label+")","prepend-inner-icon":"mdi-currency-usd",required:"",disabled:""},model:{value:e.verifiedAmountWithFeeDecimalsStr,callback:function(t){e.verifiedAmountWithFeeDecimalsStr=t},expression:"verifiedAmountWithFeeDecimalsStr"}},[e.bridge&&e.verifiedAmountWithFeeDecimalsStr!==e.verifiedAmountDecimalStr?n("span",{staticClass:"blinking",attrs:{slot:"append"},slot:"append"},[e._v("(Operator Fee is Applied)")]):e._e()])],1):e._e()],1),e.needApproveToken?n("v-btn",{attrs:{disabled:!1===e.enableApproveButton,color:"primary"},on:{click:e.clickApproveButton}},[e._v("Approve")]):e._e(),e._v(" "),n("v-btn",{attrs:{color:"primary",disabled:!1===e.valid},on:{click:e.clickSend}},[e._v(" "+e._s(this.optype)+" ")]),n("v-btn",{attrs:{text:""},on:{click:e.clickBack}},[e._v("Back")]),n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{persistent:"","max-width":"450"},model:{value:e.sendDialog.open,callback:function(t){e.$set(e.sendDialog,"open",t)},expression:"sendDialog.open"}},[n("v-card",[n("v-card-title",[e._v("Send Tx: "+e._s(e.sendDialog.status))]),n("v-card-text",{staticClass:"text-left"},[e._v(e._s(e.sendDialog.message))]),e.sendDialog.txHash?n("v-card-text",{staticClass:"text-left"},[n("div",{staticClass:"subtitle-1 black--text"},[e._v("Tx Hash")]),n("a",{attrs:{href:e.bridge.net.scan+e.sendDialog.txHash,target:"_blank"}},[e._v(e._s(e.sendDialog.txHash))])]):e._e(),e.sendDialog.blockHash?n("v-card-text",{staticClass:"text-left"},[n("div",{staticClass:"subtitle-1 black--text"},[e._v("Included in Block")]),n("a",{attrs:{href:e.bridge.net.scan+e.sendDialog.blockHash,target:"_blank"}},[e._v(e._s(e.sendDialog.blockHash))])]):e._e(),n("v-card-actions",[n("v-spacer"),e.sendDialog.status===this.WAIT?n("div",{staticClass:"gray--text"},[e._v("(This may take up to 1 min)")]):e._e(),n("v-btn",{attrs:{loading:e.sendDialog.status===this.WAIT,color:"primary",text:""},on:{click:e.clickSendDialogOk}},[e._v("Ok")])],1)],1)],1)],1),n("v-row",{attrs:{justify:"center"}},[n("v-dialog",{attrs:{persistent:"","max-width":"450"},model:{value:e.approveDialog.open,callback:function(t){e.$set(e.approveDialog,"open",t)},expression:"approveDialog.open"}},[n("v-card",[n("v-card-title",[e._v("Request Approval: "+e._s(e.approveDialog.status))]),n("v-card-text",{staticClass:"text-left"},[e._v(e._s(e.approveDialog.message))]),e.approveDialog.txHash?n("v-card-text",{staticClass:"text-left"},[n("div",{staticClass:"subtitle-1 black--text"},[e._v("Tx Hash")]),n("a",{attrs:{href:e.bridge.net.scan+e.approveDialog.txHash,target:"_blank"}},[e._v(e._s(e.approveDialog.txHash))])]):e._e(),e.approveDialog.blockHash?n("v-card-text",{staticClass:"text-left"},[n("div",{staticClass:"subtitle-1 black--text"},[e._v("Included in Block")]),n("a",{attrs:{href:e.bridge.net.scan+e.approveDialog.blockHash,target:"_blank"}},[e._v(e._s(e.approveDialog.blockHash))])]):e._e(),n("v-card-actions",[n("v-spacer"),e.approveDialog.status===e.NONE?n("div",[n("v-btn",{attrs:{text:"",color:"primary",loading:e.approveDialog.status===this.WAIT},on:{click:e.clickApproveDialogOk}},[e._v("Approve")]),n("v-btn",{attrs:{text:"",disabled:e.approveDialog.status===this.WAIT},on:{click:function(t){e.approveDialog.open=!1}}},[e._v("Cancel")])],1):n("div",[n("v-btn",{attrs:{text:"",loading:e.approveDialog.status===this.WAIT},on:{click:e.clickApproveDialogClose}},[e._v("Close")])],1)],1)],1)],1)],1)],1):e._e()},Ue=[],je=a("a4ec"),ze=a("ab5e");function qe(e,t){if(!t)return"Address is required";if("aergo"==e)try{return new ze["Address"](t),je["c"].checkAergoAddress(t),!0}catch(a){return a.message}else if("ethereum"==e)try{return m.utils.toChecksumAddress(t),!0}catch(a){return a.message}return"unknown network type "+e}function Ze(e,t,a){return e instanceof ze["Amount"]?e=e.formatNumber():"number"===typeof e&&(e=e.toString()),a?ze["Amount"].moveDecimalPoint(e,parseInt(t)):ze["Amount"].moveDecimalPoint(e,-1*parseInt(t))}function Xe(e,t,a){let n=new ze["AergoClient"]({},new ze["GrpcWebProvider"]({url:e}));return a.to=t,a.payload_json=JSON.parse(a.payload),delete a.payload,new Promise((e,t)=>{try{window.addEventListener("AERGO_SEND_TX_RESULT",a=>{setTimeout(async()=>{try{if(a.detail.error)t(a.detail.error);else{let t=await n.getTransactionReceipt(a.detail.hash);t.blockNumber=t.blockno,t.blockHash=t.blockhash,t.transactionHash=a.detail.hash,e(t)}}catch(i){t(i)}},2e3)},{once:!0}),window.postMessage({type:"AERGO_REQUEST",action:"SEND_TX",data:a})}catch(i){t(i)}})}async function Ge(e,t,a,n,i,s){let r=await je["c"].getAergoAnchorStatus(e,t,n);const o=r.bestHeight-(r.tAnchor+r.tFinal);let l=new Map;l.set(1,s.slice(2).toLowerCase());let d=await t.getEvents({address:a,eventName:i,blockfrom:o,args:l}),c=r.lastAnchorHeight+r.tAnchor+r.tFinal-r.bestHeight;if(c<0&&(c="Verifying"),0===d.length)return console.log("update status - event",c,r),["Delayed",c];for(let p=1;p<1e4;p++){let e=p*r.tAnchor+r.lastAnchorHeight;if(e>d[0].blockno+r.tFinal){let t=e-r.bestHeight;return console.log("update status + event",d,t,c,r),t>0?[t,c]:["Verifying",c]}}return["Too big anchor height",c]}async function Je(e,t,a,n,i,s,r){let o=await je["c"].getEthAnchorStatus(e,t,i);const l=o.bestHeight-(o.tAnchor+o.tFinal),d=new e.eth.Contract(n,a);let c=await d.getPastEvents(s+"Event",{topics:[,,e.utils.sha3(r)],fromBlock:l,toBlock:"latest"}),p=o.lastAnchorHeight+o.tAnchor+o.tFinal-o.bestHeight;if(p<0&&(p="Verifying"),0===c.length)return console.log("update status - event",p,o),["Delayed",p];for(let u=1;u<1e4;u++){let e=u*o.tAnchor+o.lastAnchorHeight;if(e>c[c.length-1].blockNumber+o.tFinal){let t=e-o.bestHeight;return console.log("update status + event",c,t,p,o),t>0?[t,p]:["Verifying",p]}}return["Too big anchor height",p]}var Ye,Qe,Ke={},$e=Ke,et=Object(y["a"])($e,Ye,Qe,!1,null,null,null),tt=(et.exports,{name:"Form",props:["fromBridge","toBridge","optype","etheraccount","aergoaccount","verifiedReceiver","verifiedAmountDecimalStr"],components:{},data:()=>({valid:!1,receiver:"",amountDecimals:"",verifiedAmountWithFeeDecimalsStr:"0",approvedAmount:new ze["Amount"](0),checkApprovedAmount:!0,enableApproveButton:!1,sendDialog:{open:!1,status:"",message:"",blockHash:"",txHash:""},approveDialog:{open:!1,status:"",message:"",blockHash:"",txHash:""}}),created(){this.NONE="",this.WAIT="PENDING CONFIRMATION",this.SUCCESS="SUCCESS",this.FAIL="FAIL"},computed:{amount:function(){return new ze["Amount"](Ze(this.amountDecimals,this.bridge.asset.decimals,!0))},approvedAmountDecimalsStr:function(){return Ze(this.approvedAmount,this.bridge.asset.decimals,!1)},inout:function(){return"burn"===this.optype||"lock"===this.optype||"freeze"===this.optype?"in":"mint"===this.optype||"unlock"===this.optype||"unfreeze"===this.optype?"out":""},needApproveToken:function(){return"in"===this.inout&&this.fromBridge.asset.type!==re.native},bridge:function(){return"in"===this.inout?this.fromBridge:"out"===this.inout?this.toBridge:null},wallet:function(){return this.bridge?"aergo"===this.bridge.net.type&&this.aergoaccount?this.aergoaccount.chainId===this.bridge.net.chainId?{isLogin:!0,address:this.aergoaccount.address,err:"",type:this.bridge.net.type}:{isLogin:!1,address:this.aergoaccount.address,err:"The account's chainId is different with the bridge's",type:this.bridge.net.type}:"ethereum"===this.bridge.net.type&&this.etheraccount?this.etheraccount.selectedAddress?this.etheraccount.networkVersion===this.bridge.net.networkVersion?{isLogin:!0,address:this.etheraccount.selectedAddress,err:"",type:this.bridge.net.type}:{isLogin:!1,address:this.etheraccount.selectedAddress,err:"The account's network version is different with the bridge's"+this.etheraccount.networkVersion,type:this.bridge.net.type}:{isLogin:!1,address:this.etheraccount.selectedAddress,err:"Click metamask icon at toolbar to connect this DApp",type:this.bridge.net.type}:"aergo"===this.bridge.net.type?{isLogin:!1,address:"",err:"Login to aergo connect",type:this.bridge.net.type}:{isLogin:!1,address:"",err:"Login to Metamask",type:this.bridge.net.type}:{isLogin:!1,address:"",err:"Bridge is Not Initialized",type:""}}},methods:{async handleResult(e,t,a){e.status=this.WAIT,e.blockHash=null,e.message=a,e.txHash="",e.open=!0;try{t.on&&t.on("transactionHash",(function(t){e.txHash=t}));const a=await t;e.status=this.SUCCESS,e.message="Your transaction has been confirmed and is included in the block.",e.txHash=a.transactionHash,"aergo"===this.bridge.net.type?e.blockHash=a.blockHash:"ethereum"===this.bridge.net.type&&(e.blockHash=a.blockNumber)}catch(n){e.status=this.FAIL,e.message=n,e.txHash=""}},clickApproveButton(){this.checkApprovedAmount=!1,this.$refs.form.validate()&&1==this.amount.compare(this.approvedAmount)?(this.approveDialog.status=this.NONE,this.approveDialog.open=!0,this.approveDialog.txHash="",this.approveDialog.blockHash="",this.approveDialog.message="Please confirm that "+Ze(this.amount.sub(this.approvedAmount),this.bridge.asset.decimals,!1)+" "+this.fromBridge.asset.label+" will be used by the bridge contract."):this.wallet.isLogin||this.$emit("needLogin",!0,this.bridge.net.type),this.checkApprovedAmount=!0},async clickApproveDialogOk(){"ethereum"===this.fromBridge.net.type&&await this.handleResult(this.approveDialog,je["b"].increaseApproval(m,this.fromBridge.contract.id,this.amount.sub(this.approvedAmount).formatNumber(),this.fromBridge.asset.id,this.fromBridge.asset.abi),"Waiting to approve. Please confirm the TX in your wallet and wait for it to be finalized.")},clickApproveDialogClose(){this.updateApprovedAmount(),this.approveDialog.open=!1},async clickSend(){if(this.$refs.form.validate()){if(this.sendDialog.status=this.NONE,"lock"===this.optype)await this.handleResult(this.sendDialog,je["b"].lock(m,this.receiver,this.fromBridge.asset.id,this.amount.formatNumber(),this.fromBridge.contract.id,this.fromBridge.contract.abi),"Waiting to lock. Please confirm the TX in your wallet and wait for it to be finalized.");else if("unlock"===this.optype)await this.handleResult(this.sendDialog,je["a"].unlock(m,new ze["AergoClient"]({},new ze["GrpcWebProvider"]({url:this.fromBridge.net.endpoint})),this.toBridge.contract.id,this.toBridge.contract.abi,this.fromBridge.contract.id,this.verifiedReceiver,this.toBridge.asset.id),"Waiting to unlock. Please confirm the TX in your wallet and wait for it to be finalized.");else if("unfreeze"==this.optype){let e=await je["b"].buildUnfreezeTx(m,new ze["AergoClient"]({},new ze["GrpcWebProvider"]({url:this.toBridge.net.endpoint})),this.wallet.address,this.fromBridge.contract.id,this.toBridge.contract.id,this.toBridge.contract.abi,this.verifiedReceiver,this.fromBridge.asset.id);await this.handleResult(this.sendDialog,Xe(this.toBridge.net.endpoint,this.toBridge.contract.id,e),"Waiting to unfreeze. Please confirm the TX in your wallet and wait for it to be finalized.")}else if("freeze"==this.optype){let e=await je["a"].buildFreezeTx(this.wallet.address,this.amount.formatNumber(),this.fromBridge.contract.id,this.fromBridge.contract.abi,this.receiver);await this.handleResult(this.sendDialog,Xe(this.fromBridge.net.endpoint,this.fromBridge.contract.id,e),"Waiting to freeze. Please confirm the TX in your wallet and wait for it to be finalized.")}}else this.wallet.isLogin||this.$emit("needLogin",!0,this.bridge.net.type)},clickBack(){this.$refs.form.resetValidation(),this.$emit("needLogin",!1,this.bridge.net.type),this.$emit("stepping","prev")},clickSendDialogOk(){this.sendDialog.open=!1,this.sendDialog.status===this.SUCCESS&&this.$emit("stepping","next")},validateReceiver(e){return!this.toBridge||qe(this.toBridge.net.type,e)},validateAccount(){return this.wallet.isLogin?(this.$emit("needLogin",!1,this.bridge.net.type),!0):this.wallet.err},validateAmount(e){return this.enableApproveButton=!0,e?new ze["Amount"](Ze(e,this.bridge.asset.decimals,!0)).compare(0)<=0?"Amount must be bigger than 0":!1===/^\d+(\.?\d*)$/.test(e)?"Amount must be real number":this.checkApprovedAmount&&this.needApproveToken&&new ze["Amount"](Ze(e,this.bridge.asset.decimals,!0)).compare(this.approvedAmount)>0?"Approved Asset Amount is Insufficient (Current Approval = "+Ze(this.approvedAmount,this.bridge.asset.decimals,!1)+")":(this.enableApproveButton=!1,!0):"Amount is required"},updateApprovedAmount(){if(this.bridge&&"in"===this.inout&&this.wallet.isLogin)if(this.$refs.form&&this.$refs.form.resetValidation(),"erc20"===this.fromBridge.asset.type){let e=new m.eth.Contract(this.fromBridge.asset.abi,this.fromBridge.asset.id);e.methods.allowance(this.wallet.address,this.fromBridge.contract.id).call().then(e=>{this.approvedAmount=new ze["Amount"](e.toString())})}else this.approvedAmount=new ze["Amount"](0)},async updateUnfreezeFee(){if(this.wallet.isLogin&&this.verifiedReceiver.toUpperCase()!==this.wallet.address.toUpperCase()&&"unfreeze"===this.optype){let e=new ze["AergoClient"]({},new ze["GrpcWebProvider"]({url:this.toBridge.net.endpoint}));const t=await je["c"].getAergoUnfreezeFee(e,this.toBridge.contract.id);this.verifiedAmountWithFeeDecimalsStr=Ze(new ze["Amount"](Ze(new ze["Amount"](this.verifiedAmountDecimalStr),this.bridge.asset.decimals,!0)).sub(new ze["Amount"](t)),this.bridge.asset.decimals,!1)}else this.verifiedAmountWithFeeDecimalsStr=this.verifiedAmountDecimalStr}},watch:{"wallet.address":async function(){this.updateApprovedAmount(),this.updateUnfreezeFee()},verifiedAmountDecimalStr:async function(){this.updateUnfreezeFee()}}}),at=tt,nt=(a("3953"),a("4bd4")),it=a("34c3"),st=a("8654"),rt=Object(y["a"])(at,We,Ue,!1,null,null,null),ot=rt.exports;k()(rt,{VBtn:B["a"],VCard:C["a"],VCardActions:xe["a"],VCardText:xe["b"],VCardTitle:xe["c"],VDialog:Ee["a"],VForm:nt["a"],VIcon:D["a"],VImg:V["a"],VList:S["a"],VListItem:O["a"],VListItemContent:E["a"],VListItemIcon:it["a"],VListItemTitle:E["c"],VRow:Ce["a"],VSpacer:M["a"],VTextField:st["a"]});var lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.toBridge?a("div",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",{attrs:{align:"center","no-gutters":""}},[a("v-col",[a("v-text-field",{attrs:{rules:[e.validateReceiver],label:"To Address ("+e.toBridge.net.label+")",required:"",clearable:""},model:{value:e.receiver,callback:function(t){e.receiver=t},expression:"receiver"}})],1),a("v-col",{attrs:{md:"auto"}},[a("v-btn",{attrs:{color:"primary",disabled:!1===e.valid},on:{click:e.search}},[e.verifiedReceiver?a("span",[e._v("Update")]):a("span",[e._v("Search")])])],1)],1),e.verifiedReceiver?a("v-container",{staticClass:"py-0"},[a("v-switch",{staticClass:"ma-0 py-0",attrs:{dense:"",label:"Enable Auto Update (every 10s)"},on:{click:e.enableAutoUpdate},model:{value:e.isAutoUpdate,callback:function(t){e.isAutoUpdate=t},expression:"isAutoUpdate"}}),a("v-row",{staticClass:"title"},[e._v("Bridge Status ("+e._s(e.updateTime)+")")]),a("v-row",{staticClass:"body-1"},[e._v(e._s(e.verifiedReceiver))]),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"my-2",attrs:{sm:"1"}},[a("v-icon",[e._v("mdi-sack")]),a("v-icon",{attrs:{large:""}},[e._v("mdi-bank-transfer-in")]),a("br"),a("span",{class:("0"!==e.underVerifyAmountDecimalStr?"blinking":"")+" display-1 font-weight-bold lime--text"},[e._v(e._s(e.underVerifyAmountDecimalStr))]),a("br"),a("span",{staticClass:"subtitle-1 grey--text"},[e._v(e._s(e.fromBridge.asset.label))]),a("v-divider",{staticClass:"mx-4"}),a("span",{staticClass:"overline"},[e._v("Under Verification")])],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"my-2",attrs:{sm:"1"}},[a("v-icon",{attrs:{large:""}},[e._v("mdi-calendar-clock")]),a("br"),a("span",{staticClass:"display-1 font-weight-bold red--text blinking"},[e._v(e._s(e.nextVerifyBlock))]),a("br"),a("span",{staticClass:"subtitle-1 grey--text"},[e._v("Blocks")]),a("v-divider",{staticClass:"mx-4"}),a("span",{staticClass:"overline"},[e._v("Next Verification")])],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"my-2",attrs:{sm:"1"}},[a("v-icon",{attrs:{large:""}},[e._v("mdi-weather-cloudy-arrow-right")]),a("br"),a("span",{staticClass:"display-1 font-weight-bold green--text"},[e._v(e._s(e.verifiedAmountDecimalStr))]),a("br"),a("span",{staticClass:"subtitle-1 grey--text"},[e._v(e._s(e.toBridge.asset.label))]),a("v-divider",{staticClass:"mx-4"}),a("span",{staticClass:"overline"},[e._v("Verified")])],1)],1)],1)],1):e._e(),a("v-btn",{attrs:{color:"primary",disabled:!1===e.valid||"0"===e.verifiedAmountDecimalStr},on:{click:function(t){e.openDialog=!0}}},[e._v("Continue")]),a("v-btn",{attrs:{text:""},on:{click:e.clickBack}},[e._v("Back")])],1),a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"380"},model:{value:e.openDialog,callback:function(t){e.openDialog=t},expression:"openDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Caution!")]),"0"!==e.underVerifyAmountDecimalStr?a("v-card-text",[a("b",[e._v(e._s(e.underVerifyAmountDecimalStr))]),e._v(" assets are under verification. Only "+e._s(e.verifiedAmountDecimalStr)+" verified assets will be transfered. ")]):e._e(),a("v-card-text",[a("b",[e._v(e._s(e.nextVerifyBlock))]),e._v(" blocks left until next verification. Make sure there is enough time for TX to be confirmed before proceeding to the next step. If the verification happens in the middle of the next step and the state changes, the current TX can fail. ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.clickDialogOk}},[e._v("Ok")]),a("v-btn",{attrs:{text:""},on:{click:e.clickDialogCancel}},[e._v("Cancel")])],1)],1)],1)],1)],1):e._e()},dt=[],ct={name:"Status",components:{},props:["fromBridge","toBridge","optype"],data:()=>({receiver:"",valid:!1,verifiedAmountDecimalStr:"0",underVerifyAmountDecimalStr:"0",nextVerifyBlock:"0",verifiedReceiver:null,updateTime:null,isAutoUpdate:!1,autoUpdateIntervalId:null,openDialog:!1}),methods:{reset(){this.verifiedReceiver=null,this.verifiedAmountDecimalStr="0",this.underVerifyAmountDecimalStr="0"},clickDialogOk(){this.$emit("update_finalize_info",this.verifiedReceiver,this.verifiedAmountDecimalStr),this.reset(),this.openDialog=!1,this.$emit("stepping","next")},clickDialogCancel(){this.openDialog=!1},clickBack(){this.reset(),this.$refs.form.resetValidation(),this.$emit("stepping",1)},enableAutoUpdate(){this.isAutoUpdate?this.autoUpdateIntervalId=setInterval(()=>{this.search()},1e4):this.autoUpdateIntervalId&&clearInterval(this.autoUpdateIntervalId)},validateReceiver(e){return!this.toBridge||qe(this.toBridge.net.type,e)},search(){if(this.$refs.form&&this.$refs.form.validate()){var e,t;if("ethereum"===this.fromBridge.net.type&&"aergo"===this.toBridge.net.type){let a=new ze["AergoClient"]({},new ze["GrpcWebProvider"]({url:this.toBridge.net.endpoint})),n=new d.a(new d.a.providers.HttpProvider(this.fromBridge.net.endpoint));e=je["b"].unfreezable(n,a,this.fromBridge.contract.id,this.toBridge.contract.id,this.receiver,this.fromBridge.asset.id),t=Je(n,a,this.fromBridge.contract.id,this.fromBridge.contract.abi,this.toBridge.contract.id,this.optype,this.receiver)}else if("aergo"===this.fromBridge.net.type&&"ethereum"===this.toBridge.net.type){let a=new ze["AergoClient"]({},new ze["GrpcWebProvider"]({url:this.fromBridge.net.endpoint})),n=new d.a(new d.a.providers.HttpProvider(this.toBridge.net.endpoint));e=je["a"].unlockable(n,a,this.toBridge.contract.id,this.fromBridge.contract.id,this.receiver,this.toBridge.asset.id),t=Ge(n,a,this.fromBridge.contract.id,this.toBridge.contract.id,this.optype,this.receiver)}Promise.all([e,t]).then(e=>{this.updateTime=(new Date).toLocaleString(),this.verifiedReceiver=this.receiver,this.verifiedAmountDecimalStr=Ze(e[0][0],this.toBridge.asset.decimals,!1),this.underVerifyAmountDecimalStr=Ze(e[0][1],this.fromBridge.asset.decimals,!1),"0"!==this.underVerifyAmountDecimalStr?this.nextVerifyBlock=e[1][0]:this.nextVerifyBlock=e[1][1]}).catch(e=>{alert("The state change is being processed. Please try again in a few minutes."),console.error(e)})}}}},pt=ct,ut=(a("93a5"),a("ce7e")),mt=a("b73d"),vt=Object(y["a"])(pt,lt,dt,!1,null,null,null),gt=vt.exports;k()(vt,{VBtn:B["a"],VCard:C["a"],VCardActions:xe["a"],VCardText:xe["b"],VCardTitle:xe["c"],VCol:Te["a"],VContainer:Be["a"],VDialog:Ee["a"],VDivider:ut["a"],VForm:nt["a"],VIcon:D["a"],VRow:Ce["a"],VSpacer:M["a"],VSwitch:mt["a"],VTextField:st["a"]});var bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" TODO is this OK?????? "),a("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[a("v-data-iterator",{attrs:{items:e.txs,"items-per-page":e.itemsPerPage,page:e.page,search:e.search},on:{"update:itemsPerPage":function(t){e.itemsPerPage=t},"update:items-per-page":function(t){e.itemsPerPage=t}},scopedSlots:e._u([{key:"header",fn:function(){return[a("v-text-field",{attrs:{clearable:"","hide-details":"","prepend-inner-icon":"mdi-account",label:"Filter by To Address"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("br")]},proxy:!0},{key:"default",fn:function(t){return[e._l(t.items,(function(t){return a("v-row",{key:t.sendTxs[0].sendTxId,attrs:{cols:"12"}},[a("v-card",{staticClass:"ma-1",attrs:{width:"100%"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"2"}},[e._v(e._s(t.amount))]),a("v-col",{attrs:{cols:"8",align:"left"}},[a("div",{staticClass:"overline mb-2"},[e._v("From: "+e._s(t.senderAddr))]),e._v(" To: "+e._s(t.receiverAddr)+" ")]),a("v-col",{attrs:{cols:"2"}},["completed"===t.status?a("span",[a("v-icon",{attrs:{left:""}},[e._v("mdi-check")]),e._v(e._s(t.status)+" ")],1):e._e(),"verified"===t.status?a("span",[a("v-icon",{attrs:{left:""}},[e._v("mdi-cloud-check")]),e._v(" "+e._s(t.status)+" ")],1):e._e(),"on verifying"===t.status?a("span",[a("v-icon",{attrs:{left:""}},[e._v("mdi-cloud-sync")]),e._v(" "+e._s(t.status)+" ")],1):e._e()])],1),a("v-divider"),a("v-row",{staticClass:"pl-7"},[a("v-col",{staticClass:"pa-0",attrs:{cols:"12",align:"left"}},e._l(t.sendTxs,(function(t){return a("span",{key:t.sendTxId},[e._v(" burn tx: "+e._s(t.sendTxId)+" "),a("small",[e._v("("+e._s(e.printDate(t.sendTxTime))+")")]),a("br")])})),0)],1),a("v-row",{staticClass:"pl-7"},[a("v-col",{staticClass:"pa-0",attrs:{cols:"12",align:"left"}},[e._v(" unlock tx: "+e._s(t.receiveTxId)+" "),a("small",[e._v("("+e._s(e.printDate(t.receiveTxTime))+")")])])],1),a("v-divider")],1)],1)})),a("v-row",[e._v(" if reach last page load more... (Next 10000 blocks?) "),a("v-btn",{attrs:{text:"",loading:e.loading,disabled:e.loading}},[a("v-icon",{attrs:{dark:""}},[e._v("mdi-chevron-down")]),e._v("(TODO Load More...) ")],1)],1)]}}])})],1)],1)},ht=[],yt={name:"History",components:{},data:()=>({fromAddress:"",fromAddressRules:[],toAddress:"",toAddressRules:[],search:"",page:1,itemsPerPage:10,loading:!1,txs:[{status:"on verifying",sendTxs:[{sendTxId:"0xe43f385fc218dfd192c95123f17d55100f4932735a615b78c7ad53c35a99bb1d",sendTxTime:1570442933e3},{sendTxId:"0xe33f385fc218dfd192c95123f17d55100f4932735a615b78c7ad53c35a99bb1d",sendTxTime:1570442933020}],receiveTxId:"",receiveTxTime:null,senderAddr:"0x7aa5e01be053e585a756586ee3fcd7b3f41fcd49",receiverAddr:"0x4fed1fc4144c223ae3c1553be203cdfcbd38c581",amount:"0.04895"},{status:"verified",sendTxs:[{sendTxId:"0xe43f385fc218dfd192c95123f17d55100f4932735a615b78c7ad53c35a99bb2d",sendTxTime:15704381e5}],receiveTxId:"",receiveTxTime:null,senderAddr:"0x7aa5e01be053e585a756586ee3fcd7b3f41fcd49",receiverAddr:"0x4fed1fc4144c223ae3c1553be203cdfcbd38c581",amount:"195.123"},{status:"completed",sendTxs:[{sendTxId:"0xe43f385fc218dfd192c95123f17d55100f4932735a615b78c7ad53c35a99bb1b",sendTxTime:1570438e6}],receiveTxId:"0xe43f385fc218dfd192c95123f17d55100f4932735a615b78c7ad53c35a99bb1b",receiveTxTime:1570438e6,senderAddr:"0x7aa5e01be053e585a756586ee3fcd7b3f41fcd49",receiverAddr:"0x4fed1fc4144c223ae3c1553be203cdfcbd38c581",amount:"0.123"}]}),methods:{printDate(e){return new Date(e).toLocaleString()}}},ft=yt,At=a("c377"),_t=Object(y["a"])(ft,bt,ht,!1,null,null,null),wt=_t.exports;k()(_t,{VBtn:B["a"],VCard:C["a"],VCol:Te["a"],VContainer:Be["a"],VDataIterator:At["a"],VDivider:ut["a"],VIcon:D["a"],VRow:Ce["a"],VTextField:st["a"]});var kt={name:"App",components:{AccountToolBar:P,BridgeSelect:He,Status:gt,Form:ot,History:wt},data:()=>({step:1,drawer:null,menu:"transfer",fromBridge:null,toBridge:null,fromOpType:null,toOpType:null,verifiedReceiver:"",verifiedAmountDecimalStr:0,isLoginNeeded:!1,isLoginNeededNetType:"",etheraccount:null,aergoaccount:null,st:"",tmpText:""}),methods:{login_ethereum(e){this.etheraccount=e},login_aergo(e){this.aergoaccount=e},open_drawer(){this.drawer=!this.drawer},select_bridge(e,t,a,n){this.fromBridge=e,this.toBridge=a,this.fromOpType=t,this.toOpType=n},update_finalize_info(e,t){this.verifiedReceiver=e,this.verifiedAmountDecimalStr=t},needLogin(e,t){this.isLoginNeeded=e,this.isLoginNeededNetType=t},stepping(e){this.step="next"===e?this.step+1:"prev"===e?this.step-1:e}}},xt=kt,Tt=(a("034f"),a("7496")),Bt=a("a75b"),Ct=a("f774"),Dt=a("7e85"),Vt=a("e516"),St=a("56a4"),Ot=Object(y["a"])(xt,i,s,!1,null,null,null),It=Ot.exports;k()(Ot,{VApp:Tt["a"],VBtn:B["a"],VCol:Te["a"],VContent:Bt["a"],VIcon:D["a"],VListItem:O["a"],VListItemAvatar:I["a"],VListItemContent:E["a"],VNavigationDrawer:Ct["a"],VRow:Ce["a"],VStepper:Dt["a"],VStepperContent:Vt["a"],VStepperStep:St["a"]});var Et=a("f309");n["a"].use(Et["a"]);var Lt=new Et["a"]({icons:{iconfont:"mdi"}}),Mt=a("4ae6"),Ft=a.n(Mt);n["a"].config.productionTip=!1,new n["a"]({vuetify:Lt,render:e=>e(It)}).$mount("#app"),n["a"].use(Ft.a)},"8a23":function(e,t,a){},"8df2":function(e,t,a){},"93a5":function(e,t,a){"use strict";var n=a("8df2"),i=a.n(n);i.a},ba67:function(e,t,a){e.exports=a.p+"img/metamask.2e91abe3.png"},bf65:function(e,t,a){}});
//# sourceMappingURL=app.2324f744.js.map